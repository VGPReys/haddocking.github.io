# ====================================================================
# Antibody-antigen docking example with restraints from the antibody
# paratope to the NMR-identified epitope on the antigen (as passive)
# ====================================================================

# directory name of the run
run_dir = "run1-mpi-CDR-NMR-epitope-pass"

# MPI compute mode
mode = 'local'
#  1 nodes x 96 threads
ncores = 96

# molecules to be docked
molecules =  [
    "4G6K_clean.pdb",
    "4I1B_clean.pdb"
    ]

# ====================================================================
# Parameters for each stage are defined below, prefer full paths
# ====================================================================
[topoaa]

[rigidbody]
# CDR to surface ambig restraints
ambig_fname = "ambig-CDR-NMR-epitope-pass.tbl"
# Restraints to keep the antibody chains together
unambig_fname = "unambig.tbl"
# Turn off ramdom removal of restraints
randremoval = false

[clustfcc]
threshold = 10

[seletopclusts]
## select all the clusters
top_cluster = 500
## select the best 10 models of each cluster
top_models = 10

[caprieval]
# this is only for this tutorial to check the performance at the rigidbody stage
reference_fname = "4G6M_matched.pdb"

[flexref]
# Acceptable percentage of model failures
tolerance = 5
# CDR to surface ambig restraints
ambig_fname = "ambig-CDR-NMR-epitope-pass.tbl"
# Restraints to keep the antibody chains together
unambig_fname = "unambig.tbl"
# Turn off ramdom removal of restraints
randremoval = false

[emref]
# CDR to surface ambig restraints
ambig_fname = "ambig-CDR-NMR-epitope-pass.tbl"
# Restraints to keep the antibody chains together
unambig_fname = "unambig.tbl"
# Turn off ramdom removal of restraints
randremoval = false

[clustfcc]

[seletopclusts]
top_cluster = 500

[caprieval]
reference_fname = "4G6M_matched.pdb"

# ====================================================================

